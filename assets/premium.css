/* BeluTales Premium Night-Sky Theme */
/* Prevents white background flashes and provides stable styling */

/* ========== HIDE UNWANTED DIVIDERS ========== */
hr, .stApp hr, .stApp [data-testid="stDecoration"] {
  display: none !important;
  border: none !important;
}

.stApp [data-testid="stHeader"]::after {
  border-bottom: none !important;
}

/* ========== BRIGHT CARTOON BACKGROUND ========== */
html, body, .stApp {
  min-height: 100vh;
  background: linear-gradient(135deg, 
    #87CEEB 0%,     /* Sky Blue */
    #FFB6C1 25%,    /* Light Pink */
    #F0E68C 50%,    /* Khaki Yellow */
    #DDA0DD 75%,    /* Plum Purple */
    #98FB98 100%    /* Pale Green */
  ) !important;
  background-attachment: fixed !important;
  animation: colorShift 12s ease-in-out infinite alternate;
}

@keyframes colorShift {
  0% {
    background: linear-gradient(135deg, #87CEEB 0%, #FFB6C1 25%, #F0E68C 50%, #DDA0DD 75%, #98FB98 100%);
  }
  50% {
    background: linear-gradient(45deg, #FFB6C1 0%, #F0E68C 25%, #DDA0DD 50%, #98FB98 75%, #87CEEB 100%);
  }
  100% {
    background: linear-gradient(225deg, #F0E68C 0%, #DDA0DD 25%, #98FB98 50%, #87CEEB 75%, #FFB6C1 100%);
  }
}

.stApp > header, .stApp [data-testid="stHeader"] {
  background: transparent !important;
}

.stApp [data-testid="stToolbar"] { 
  background: transparent !important; 
}

.main .block-container { 
  background: transparent !important; 
}

/* ========== FLOATING CLOUDS EFFECT ========== */
.stApp::before {
  content: "";
  position: fixed; 
  inset: 0;
  background-image:
    radial-gradient(80px 40px at 20% 30%, rgba(255,255,255,0.6) 30%, transparent 70%),
    radial-gradient(60px 30px at 60% 20%, rgba(255,255,255,0.5) 30%, transparent 70%),
    radial-gradient(100px 50px at 80% 60%, rgba(255,255,255,0.4) 30%, transparent 70%),
    radial-gradient(70px 35px at 30% 80%, rgba(255,255,255,0.5) 30%, transparent 70%),
    radial-gradient(90px 45px at 10% 50%, rgba(255,255,255,0.3) 30%, transparent 70%),
    radial-gradient(50px 25px at 70% 10%, rgba(255,255,255,0.4) 30%, transparent 70%);
  pointer-events: none;
  z-index: 0;
  animation: floatClouds 20s ease-in-out infinite;
}

@keyframes floatClouds {
  0% {
    transform: translateX(0) translateY(0);
    opacity: 0.7;
  }
  25% {
    transform: translateX(2%) translateY(-1%);
    opacity: 0.8;
  }
  50% {
    transform: translateX(-1%) translateY(1%);
    opacity: 0.6;
  }
  75% {
    transform: translateX(1%) translateY(-0.5%);
    opacity: 0.9;
  }
  100% {
    transform: translateX(0) translateY(0);
    opacity: 0.7;
  }
}

/* ========== GENTLE RAINBOW SHIMMER ========== */
.stApp::after {
  content: "";
  position: fixed; 
  inset: -10% -10% -10% -10%;
  z-index: 0; 
  pointer-events: none;
  background: 
    radial-gradient(60% 40% at 30% 10%, rgba(255,182,193,0.15), transparent 70%),
    radial-gradient(50% 35% at 80% 20%, rgba(240,230,140,0.12), transparent 70%),
    radial-gradient(40% 35% at 60% 75%, rgba(221,160,221,0.1), transparent 70%);
  filter: blur(1px);
  animation: rainbowShimmer 15s ease-in-out infinite alternate;
}

@keyframes rainbowShimmer {
  0%   { 
    transform: translate3d(0,0,0) scale(1);   
    opacity: 0.4; 
  }
  33%  { 
    transform: translate3d(-1%, -0.5%, 0) scale(1.02); 
    opacity: 0.6; 
    filter: blur(1.5px) hue-rotate(30deg);
  }
  66%  { 
    transform: translate3d(1%, 0.5%, 0) scale(1.01); 
    opacity: 0.5; 
    filter: blur(1px) hue-rotate(60deg);
  }
  100% { 
    transform: translate3d(0,0,0) scale(1);   
    opacity: 0.4; 
    filter: blur(1px) hue-rotate(90deg);
  }
}

/* ========== GLASS MORPHISM ELEMENTS ========== */
.stApp .stButton>button,
.stApp .stDownloadButton>button,
.stApp .stSelectbox [data-baseweb="select"],
.stApp .stTextInput>div>div>input,
.stApp .stTextInput>div>div,
.stApp .stSelectbox>div>div,
.stApp .stAlert, 
.stApp .stMetric, 
.stApp .stDataFrame,
.stApp .stMarkdown, 
.stApp .stFileUploader {
  background: rgba(255,255,255,0.25) !important;
  border: 1px solid rgba(255,255,255,0.4) !important;
  backdrop-filter: blur(12px);
  border-radius: 16px !important;
  box-shadow: 0 8px 24px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.5);
}

/* Enhanced button styling */
.stApp .stButton>button {
  padding: 10px 16px; 
  border-radius: 16px !important;
  font-weight: 700; 
  letter-spacing: .2px;
  transition: all 0.2s ease;
}

.stApp .stButton>button:hover {
  background: rgba(255,255,255,0.1) !important;
  border-color: rgba(255,255,255,0.2) !important;
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.3);
}

/* Input placeholder styling */
.stApp .stSelectbox [data-baseweb="select"] input::placeholder,
.stApp input::placeholder {
  color: rgba(52,73,94,0.7) !important;
  opacity: 1;
}

/* ========== TYPOGRAPHY ========== */
h1, h2, h3 {
  font-family: "Baloo 2", system-ui, sans-serif !important;
  font-weight: 800 !important;
  letter-spacing: .2px;
  text-shadow: 0 2px 4px rgba(255,255,255,0.8), 0 0 8px rgba(255,255,255,0.3);
}

h1 { color: #8e44ad !important; font-size: 2.8rem !important; }
h2 { color: #e67e22 !important; font-size: 2.2rem !important; }
h3 { color: #27ae60 !important; font-size: 1.7rem !important; }

body, p, li, span, div {
  font-family: "Nunito", system-ui, sans-serif !important;
  color: #2c3e50 !important;
  font-weight: 600 !important;
}

.story-text { 
  font-size: 1.15rem; 
  line-height: 1.85; 
}

/* ========== GRADIENT ACCENT BUTTONS ========== */
.btn-gradient {
  background-image: linear-gradient(90deg, #79f1a4, #0e5cad, #c77dff) !important;
  background-size: 200% 200% !important;
  color: #0b0f24 !important;
  border: none !important;
  transition: transform .08s ease !important;
  font-weight: 700 !important;
  border-radius: 16px !important;
  padding: 10px 16px !important;
}

.btn-gradient:hover { 
  transform: translateY(-1px) !important;
  background-position: 100% 0% !important;
}

/* ========== STORY CARDS ========== */
.story-card {
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  backdrop-filter: blur(12px);
  border-radius: 20px !important;
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
}

.story-card:hover {
  background: rgba(255,255,255,0.08) !important;
  border-color: rgba(255,255,255,0.15) !important;
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.4);
}

/* ========== NAVIGATION AND PAGINATION ========== */
.pagination-container {
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  backdrop-filter: blur(10px);
  border-radius: 16px !important;
  padding: 12px !important;
  margin: 16px 0 !important;
}

/* ========== SIDEBAR ========== */
.stApp [data-testid="stSidebar"] {
  background: rgba(15, 19, 41, 0.8) !important;
  backdrop-filter: blur(20px);
  border-right: 1px solid rgba(255,255,255,0.1) !important;
}

.stApp [data-testid="stSidebar"] .stButton>button {
  background: rgba(255,255,255,0.05) !important;
  border: 1px solid rgba(255,255,255,0.1) !important;
  width: 100% !important;
  text-align: left !important;
}

/* ========== IMAGE CONTAINERS ========== */
.stApp img {
  border-radius: 12px !important;
  box-shadow: 0 4px 16px rgba(0,0,0,0.3);
}

/* ========== SETTINGS PANEL ========== */
.stApp [data-testid="stPopover"] {
  background: rgba(15, 19, 41, 0.95) !important;
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.15) !important;
  border-radius: 16px !important;
}

/* ========== AUDIO CONTROLS ========== */
.stApp audio {
  border-radius: 12px !important;
  background: rgba(255,255,255,0.06) !important;
  backdrop-filter: blur(8px);
}

/* ========== PROGRESS AND METRICS ========== */
.stApp .stProgress > div > div {
  background: linear-gradient(90deg, #79f1a4, #0e5cad) !important;
  border-radius: 8px !important;
}

/* ========== CONTENT POSITIONING ========== */
.stApp > div {
  position: relative;
  z-index: 1;
}

/* ========== ENSURE TEXT READABILITY ========== */
.stApp {
  color: #2c3e50 !important;
}

.stApp .stMarkdown {
  color: #2c3e50 !important;
}

.stApp .stSelectbox label,
.stApp .stTextInput label,
.stApp .stCheckbox label {
  color: #34495e !important;
  font-weight: 700 !important;
  text-shadow: 0 1px 2px rgba(255,255,255,0.8);
}

/* ========== RESPONSIVE ADJUSTMENTS ========== */
@media (max-width: 768px) {
  .stApp::before {
    background-size: 400px 300px, 350px 250px, 300px 200px, 250px 150px, 200px 100px, 150px 75px, 100px 50px, 75px 25px;
  }
  
  .story-card {
    margin: 8px 0 !important;
  }
  
  .stApp .stButton>button {
    padding: 8px 12px !important;
    font-size: 0.9rem !important;
  }
}

/* ========== ACCESSIBILITY SUPPORT ========== */
@media (prefers-reduced-motion: reduce) {
  .stApp::after, .stApp::before, .stApp { 
    animation: none !important; 
  }
  .stApp::after { opacity: .3; }
  .stApp::before { opacity: .5; }
}

/* ========== ENHANCED DIVIDER REMOVAL ========== */
/* Hide stray horizontal lines/dividers/borders */
.stApp hr,
.stApp [role="separator"],
.stApp [data-testid="stDecoration"],
.stApp [data-testid="stMarkdownContainer"] hr {
  display: none !important;
  border: none !important;
}

/* Strip hairline borders/shadows sometimes added by the header area */
.stApp [data-testid="stHeader"],
.stApp [data-testid="stHeader"] *,
.stApp [data-testid="stHeader"]::before,
.stApp [data-testid="stHeader"]::after,
.stApp [data-testid="stHeader"] *::before,
.stApp [data-testid="stHeader"] *::after {
  border: 0 !important;
  border-top: 0 !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* Remove any first-block 1px hairlines */
.stApp .main .block-container > div:first-child,
.stApp .main .block-container > div:first-child * {
  box-shadow: none !important;
  background-image: none !important;
  border: 0 !important;
}

/* ========== ENHANCED PREMIUM BACKGROUND ========== */
/* Persistent premium night-sky background */
html, body, .stApp {
  min-height: 100vh;
  background: radial-gradient(1200px 600px at 50% -10%, #2b3a8a 0%, #1f2a60 35%, #151a3a 70%, #0f1329 100%) !important;
  background-attachment: fixed !important;
}

/* Ensure content sits above decorative layers */
.stApp, .stApp > div {
  position: relative;
  z-index: 1;
}

/* ========== ENHANCED SUBTLE SHIMMER ========== */
/* Subtle animated shimmer behind content (very cheap) */
.stApp::after {
  content: "";
  position: fixed; inset: -10% -10% -10% -10%;
  z-index: 0; pointer-events: none;
  background:
    radial-gradient(60% 40% at 30% 10%, rgba(255,255,255,0.04), transparent 70%),
    radial-gradient(50% 35% at 80% 20%, rgba(255,255,255,0.03), transparent 70%),
    radial-gradient(40% 35% at 60% 75%, rgba(255,255,255,0.025), transparent 70%);
  filter: blur(0.5px);
  animation: beluShimmer 18s ease-in-out infinite alternate;
}
@keyframes beluShimmer {
  0%   { transform: translate3d(0,0,0) scale(1);   opacity: .55; }
  50%  { transform: translate3d(-1.5%, -0.7%, 0) scale(1.01); opacity: .62; }
  100% { transform: translate3d(1.2%,  0.6%, 0)  scale(1.01); opacity: .55; }
}
@media (prefers-reduced-motion: reduce) {
  .stApp::after { animation: none !important; opacity: .5; }
}

/* ===== Fix gradient banding with ultra-light noise overlay ===== */
.stApp {
  position: relative;
  isolation: isolate; /* keep pseudo-elements layered safely */
}

/* Noise layer sits behind content but above the base gradient, below shimmer */
.stApp::before {
  content: "";
  position: fixed;
  inset: -10% -10% -10% -10%;
  z-index: 0; /* lower than ::after shimmer if you use one */
  pointer-events: none;

  /* Tiny SVG noise using fractalNoise; very low opacity to avoid visible grain */
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'>\
<filter id='n'>\
<feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/>\
<feColorMatrix type='saturate' values='0'/>\
<feComponentTransfer>\
<feFuncA type='table' tableValues='0 0 0 0 0 .02 .035 .05 .07 .085 .1'/>\
</feComponentTransfer>\
</filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='0.055'/>\
</svg>");
  background-repeat: repeat;
  background-size: 140px 140px;
  mix-blend-mode: soft-light;   /* blends the grain gently */
  opacity: 0.65;                /* overall strength; keep low */
}

/* Respect accessibility: allow user agents to lower motion/effects */
@media (prefers-reduced-motion: reduce) {
  .stApp::before { opacity: 0.45; }
}

/* Ensure our shimmer (if defined) stays above noise but below content */
.stApp::after { z-index: 0; }

/* Content sits above decorative layers */
.stApp > div { position: relative; z-index: 1; }

/* ===============================
   1) Bright, kid-friendly backdrop
   =============================== */
html, body, .stApp {
  min-height: 100vh;
  background: linear-gradient(120deg, #fdf1b8 0%, #ffe1f0 35%, #d5e8ff 70%, #e3ffd8 100%) !important; /* soft pastel */
  background-attachment: fixed !important;
}

/* Soft moving color bands (very gentle) */
.stApp::after {
  content: "";
  position: fixed; inset: -10% -10% -10% -10%;
  z-index: 0; pointer-events: none;
  background:
    radial-gradient(60% 40% at 20% 15%, rgba(255,255,255,0.45), transparent 70%),
    radial-gradient(55% 35% at 80% 25%, rgba(255,255,255,0.35), transparent 70%),
    radial-gradient(50% 35% at 60% 75%, rgba(255,255,255,0.3),  transparent 70%);
  filter: blur(1px);
  animation: beluPastelDrift 24s ease-in-out infinite alternate;
}
@keyframes beluPastelDrift {
  0%   { transform: translate3d(0,0,0) scale(1);   opacity: .55; }
  50%  { transform: translate3d(-1.2%, -0.7%, 0) scale(1.01); opacity: .62; }
  100% { transform: translate3d( 1.0%,  0.6%, 0) scale(1.01); opacity: .55; }
}
@media (prefers-reduced-motion: reduce) {
  .stApp::after { animation: none !important; opacity: .55; }
}

/* Kill residual banding lines and any hairline borders/shadows */
.stApp hr,
.stApp [role="separator"],
.stApp [data-testid="stDecoration"],
.stApp [data-testid="stMarkdownContainer"] hr {
  display: none !important;
  border: none !important;
}
.stApp [data-testid="stHeader"],
.stApp [data-testid="stHeader"] *,
.stApp [data-testid="stHeader"]::before,
.stApp [data-testid="stHeader"]::after,
.stApp [data-testid="stHeader"] *::before,
.stApp [data-testid="stHeader"] *::after {
  border: 0 !important;
  box-shadow: none !important;
  background-image: none !important;
}
.stApp .main .block-container > div:first-child,
.stApp .main .block-container > div:first-child * {
  box-shadow: none !important;
  background-image: none !important;
  border: 0 !important;
}

/* Put content above decorative layers */
.stApp, .stApp > div { position: relative; z-index: 1; }

/* =========================================
   2) Readability & contrast for inputs/tabs
   ========================================= */

/* Light "glass" controls with dark text for readability */
:root {
  --belu-surface: rgba(255,255,255,0.85);
  --belu-surface-weak: rgba(255,255,255,0.75);
  --belu-text: #1c2240; /* dark ink for contrast */
  --belu-muted: rgba(28,34,64,0.70);
  --belu-focus: #5b8cff; /* accessible focus color */
  --belu-shadow: 0 6px 16px rgba(28,34,64,0.18);
  --belu-radius: 16px;
}

/* Common cards/controls */
.stApp .stButton>button,
.stApp .stDownloadButton>button,
.stApp .stSelectbox [data-baseweb="select"],
.stApp .stTextInput>div>div,
.stApp .stTextInput>div>div>input,
.stApp .stMultiSelect [data-baseweb="select"],
.stApp .stDateInput, 
.stApp .stAlert,
.stApp .stMarkdown,
.stApp .stDataFrame,
.stApp .stRadio,
.stApp .stCheckbox {
  background: var(--belu-surface) !important;
  color: var(--belu-text) !important;
  border: 1px solid rgba(28,34,64,0.10) !important;
  border-radius: var(--belu-radius) !important;
  box-shadow: var(--belu-shadow);
}

/* Ensure selectbox and input texts/placeholders are readable */
.stApp [data-baseweb="select"] input,
.stApp input, 
.stApp textarea {
  color: var(--belu-text) !important;
}
.stApp [data-baseweb="select"] input::placeholder,
.stApp input::placeholder,
.stApp textarea::placeholder {
  color: var(--belu-muted) !important;
  opacity: 1 !important;
}

/* Dropdown menu items: light surface, dark text */
.stApp [data-baseweb="menu"] {
  background: var(--belu-surface) !important;
  color: var(--belu-text) !important;
  border: 1px solid rgba(28,34,64,0.12) !important;
  box-shadow: var(--belu-shadow);
}

/* Focus rings for keyboard users (accessibility) */
.stApp .stButton>button:focus,
.stApp .stSelectbox [data-baseweb="select"]:focus-within,
.stApp input:focus,
.stApp textarea:focus,
.stApp [data-baseweb="menu"] *:focus {
  outline: 3px solid var(--belu-focus) !important;
  outline-offset: 2px;
}

/* CTA buttons: cheerful gradient */
.stApp .stButton>button {
  background-image: linear-gradient(90deg, #ffcf6b, #ff8bd1, #7ad3ff, #9cff8a);
  background-size: 300% 300%;
  color: #1c2240 !important;
  font-weight: 800 !important;
  transition: transform .08s ease, background-position .6s ease;
}
.stApp .stButton>button:hover { transform: translateY(-1px); background-position: 100% 0; }

/* Sidebar cards: soften and brighten */
.stSidebar, .stApp [data-testid="stSidebar"] {
  background: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.55)) !important;
  box-shadow: inset 0 0 0 1px rgba(28,34,64,0.08);
}
.stApp [data-testid="stSidebar"] * { color: var(--belu-text) !important; }

/* Headings: playful font weight & shadow for legibility */
h1,h2,h3 {
  color: var(--belu-text) !important;
  text-shadow: 0 2px 8px rgba(255,255,255,0.35);
  font-weight: 900 !important;
  letter-spacing: .2px;
}

/* =========================
   3) Keep images readable
   ========================= */
.stApp img { border-radius: 14px; box-shadow: 0 10px 22px rgba(28,34,64,0.18); }

/* =========================
   4) Safety & compatibility
   ========================= */
.stApp * { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

/* =======================================================
   BeluTales — Starry Storybook Theme (final refinement)
   ======================================================= */

:root{
  --bg-top:#1b1f4f; --bg-mid:#10143a; --bg-bottom:#0b0f28;
  --ink:#f5f7ff; --ink-dim:rgba(245,247,255,.82); --muted:rgba(245,247,255,.68);
  --pill:rgba(23,28,62,.9); --card:rgba(16,20,48,.82); --border:rgba(255,255,255,.08);
  --focus:#6ab0ff; --glow-warm:#ffd36b; --glow-cool:#82c3ff;
  --radius-xl:22px; --radius-lg:18px; --radius-md:14px;
}

/* 1) Night sky with anti-banding noise + gentle shimmer */
html,body,.stApp{
  min-height:100vh; color:var(--ink);
  background: linear-gradient(180deg,var(--bg-top) 0%,var(--bg-mid) 54%,var(--bg-bottom) 100%) !important;
  background-attachment: fixed !important;
}
.stApp{ position:relative; isolation:isolate; }

/* Noise dither to remove lines */
.stApp::before{
  content:""; position:fixed; inset:-10% -10% -10% -10%;
  z-index:0; pointer-events:none;
  background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='.045'/>\
</svg>");
  background-size:120px 120px; background-repeat:repeat; mix-blend-mode:soft-light;
}

/* Soft shimmer patches */
.stApp::after{
  content:""; position:fixed; inset:-10% -10% -10% -10%;
  z-index:0; pointer-events:none;
  background:
    radial-gradient(60% 45% at 14% 12%, rgba(255,255,255,.08), transparent 70%),
    radial-gradient(52% 36% at 81% 18%, rgba(255,255,255,.06), transparent 70%),
    radial-gradient(58% 40% at 72% 78%, rgba(255,255,255,.05), transparent 70%);
  filter: blur(1px);
  animation: beluShimmer 22s ease-in-out infinite alternate;
}
@keyframes beluShimmer{
  0%{ transform:translate3d(0,0,0) scale(1); opacity:.55;}
  50%{ transform:translate3d(-1%,-.6%,0) scale(1.01); opacity:.62;}
  100%{transform:translate3d(1%, .5%,0) scale(1.01); opacity:.55;}
}
@media (prefers-reduced-motion:reduce){ .stApp::after{ animation:none!important; } }

/* Tiny stars layer */
body::after{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
  background-image:
    radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,.34) 50%, transparent 52%),
    radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,.28) 50%, transparent 52%),
    radial-gradient(1px 1px at 83% 22%, rgba(255,255,255,.26) 50%, transparent 52%),
    radial-gradient(1px 1px at 35% 82%, rgba(255,255,255,.22) 50%, transparent 52%),
    radial-gradient(1px 1px at 48% 54%, rgba(255,255,255,.22) 50%, transparent 52%);
}

/* 2) Nuke any faint horizontal lines/hairlines */
.stApp hr,
.stApp [role="separator"],
.stApp [data-testid="stDecoration"],
.stApp [data-testid="stMarkdownContainer"] hr{ display:none!important; border:none!important; }
.stApp [data-testid="stHeader"],
.stApp [data-testid="stHeader"]::before,
.stApp [data-testid="stHeader"]::after,
.stApp .main .block-container > div:first-child{ box-shadow:none!important; background-image:none!important; border:0!important; }

/* 3) Title lockup — "BeluTales" warm→cool gradient */
h1, .stApp h1{
  font-weight:900!important; letter-spacing:.2px; margin-bottom:.35rem;
  color:transparent!important; background-clip:text!important; -webkit-background-clip:text!important;
  background-image: linear-gradient(90deg, var(--glow-warm), #ffa26b, #ffc86a, #89c8ff, var(--glow-cool));
  text-shadow: 0 2px 14px rgba(0,0,0,.55);
}
h2,h3{ color:var(--ink)!important; text-shadow:0 2px 12px rgba(0,0,0,.45); }

/* 4) Glassy cards with glow rims */
.stApp .stAlert,
.stApp .stMarkdown,
.stApp .stDataFrame,
.stApp .element-container,
.stApp [data-testid="stVerticalBlockBorderWrapper"],
.stApp [data-testid="stHorizontalBlock"]{
  background: var(--card) !important;
  border:1px solid var(--border) !important;
  border-radius: var(--radius-xl) !important;
  box-shadow: 0 14px 42px rgba(0,0,0,.5), inset 0 0 0 1px rgba(255,255,255,.06);
}

/* 5) Pill controls (inputs/selects/search/chips) */
.stApp .stTextInput>div>div,
.stApp .stTextInput>div>div>input,
.stApp .stSelectbox [data-baseweb="select"],
.stApp .stMultiSelect [data-baseweb="select"],
.stApp .stDateInput{
  background: var(--pill) !important; color:var(--ink)!important;
  border:1px solid rgba(255,255,255,.10)!important; border-radius:999px!important;
  box-shadow: 0 8px 26px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
}
.stApp input::placeholder,
.stApp [data-baseweb="select"] input::placeholder{ color:var(--muted)!important; opacity:1!important; }

/* Dropdown menu */
.stApp [data-baseweb="menu"]{
  background: var(--card)!important; color:var(--ink)!important;
  border:1px solid var(--border)!important; border-radius: var(--radius-lg)!important;
  box-shadow: 0 14px 40px rgba(0,0,0,.55);
}

/* 6) Search bar "hero" style (if present near top) */
[data-testid="stTextInput"] > div > div:has(input[placeholder*="Search"]){
  padding-left:1rem!important; padding-right:1rem!important;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) !important;
}
[data-testid="stTextInput"] input{
  font-size:1.05rem!important; font-weight:600!important;
}

/* 7) Buttons — neon gradient + hover lift */
.stApp .stButton>button, .stApp .stDownloadButton>button{
  border-radius:999px!important;
  background-image:linear-gradient(90deg, #ffc86a, #ff8ad1, #6fb8ff);
  background-size:220% 220%;
  color:#0b0f1f!important; font-weight:800!important; border:0!important;
  box-shadow:0 12px 30px rgba(0,0,0,.5);
  transition: transform .09s ease, background-position .6s ease;
}
.stApp .stButton>button:hover{ transform:translateY(-1px); background-position:100% 0; }

/* 8) Category chips style (matches pill look) */
.stApp .stRadio > label, .stApp .stCheckbox > label{ color:var(--ink-dim)!important; }
.stApp .stRadio div[role="radiogroup"] > label, 
.stApp .stRadio div[role="radiogroup"] > div{
  background:var(--pill)!important; color:var(--ink)!important;
  border:1px solid rgba(255,255,255,.10)!important; border-radius:999px!important;
  padding:.35rem .8rem!important; margin:.15rem!important;
  box-shadow: 0 8px 24px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
}

/* 9) Images / covers */
.stApp img{ border-radius:18px; box-shadow:0 14px 34px rgba(0,0,0,.5); }

/* 10) Sidebar dark & readable */
.stSidebar, .stApp [data-testid="stSidebar"]{
  background: linear-gradient(180deg, rgba(10,12,32,.96), rgba(7,9,24,.96))!important;
  color:var(--ink)!important; border-right:1px solid rgba(255,255,255,.06);
}

/* 11) Focus rings (keyboard accessibility) */
.stApp .stButton>button:focus,
.stApp input:focus, .stApp textarea:focus,
.stApp [data-baseweb="select"]:focus-within{
  outline:3px solid var(--focus)!important; outline-offset:2px; border-radius:10px;
}

/* 12) Smooth text everywhere */
.stApp *{ -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* ==== END theme ==== */

/* =========================================================
   BeluTales — Starry Theme (Corrective + Final Overrides)
   ========================================================= */

/* 0) Design tokens */
:root{
  --bg-top:#1c2256; --bg-mid:#121740; --bg-bottom:#0b102b;
  --ink:#f7f9ff; --ink-dim:rgba(247,249,255,.86); --muted:rgba(247,249,255,.68);
  --pill:rgba(18,22,50,.62);    /* lighter, less muddy */
  --card:rgba(12,16,40,.55);    /* lighter, less purple */
  --border:rgba(255,255,255,.10);
  --focus:#6ab0ff;
}

/* 1) Night sky background + soft anti-banding (lightweight) */
html,body,.stApp{
  min-height:100vh; color:var(--ink);
  background: linear-gradient(180deg,var(--bg-top) 0%, var(--bg-mid) 55%, var(--bg-bottom) 100%) !important;
  background-attachment: fixed !important;
}
.stApp{ position:relative; isolation:isolate; }

/* Subtle noise (very faint) to avoid banding */
.stApp::before{
  content:""; position:fixed; inset:-10% -10% -10% -10%; z-index:0; pointer-events:none;
  background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='.035'/>\
</svg>");
  background-size:120px 120px; background-repeat:repeat; mix-blend-mode:soft-light;
}

/* Very gentle shimmer */
.stApp::after{
  content:""; position:fixed; inset:-10% -10% -10% -10%; z-index:0; pointer-events:none;
  background:
    radial-gradient(55% 40% at 18% 12%, rgba(255,255,255,.07), transparent 70%),
    radial-gradient(50% 35% at 78% 20%, rgba(255,255,255,.05), transparent 70%),
    radial-gradient(55% 40% at 65% 78%, rgba(255,255,255,.045), transparent 70%);
  filter: blur(1px);
  animation: beluShimmer 22s ease-in-out infinite alternate;
}
@keyframes beluShimmer{
  0%{ transform:translate3d(0,0,0) scale(1); opacity:.52;}
  50%{ transform:translate3d(-1%,-.6%,0) scale(1.01); opacity:.6;}
  100%{transform:translate3d(1%, .5%,0) scale(1.01); opacity:.52;}
}
@media (prefers-reduced-motion:reduce){ .stApp::after{ animation:none!important; } }

/* 2) HARD-REMOVE faint horizontal lines/hairlines from any header/blocks */
.stApp hr,
.stApp [role="separator"],
.stApp [data-testid="stDecoration"],
.stApp [data-testid="stMarkdownContainer"] hr,
.stApp [data-testid="stHeader"]::before,
.stApp [data-testid="stHeader"]::after,
.stApp .main [class*="block-container"]::before,
.stApp .main [class*="block-container"]::after{
  display:none!important; border:none!important; background:none!important; box-shadow:none!important;
}

/* 3) RESET heavy purple surfaces from previous rules (make panels lighter) */
.stApp .element-container,
.stApp [data-testid="stVerticalBlockBorderWrapper"],
.stApp [data-testid="stHorizontalBlock"]{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* Only specific content containers get a subtle glass panel */
.stApp .stAlert,
.stApp .stDataFrame,
.stApp .stMarkdown:has(h1),  /* hero title blocks */
.stApp .stMarkdown:has(h2),
.stApp .stMarkdown:has(h3){
  background: var(--card) !important;
  border: 1px solid var(--border) !important;
  border-radius: 20px !important;
  box-shadow: 0 12px 36px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06) !important;
}

/* 4) Readable, pill-shaped inputs and selects */
.stApp .stTextInput>div>div,
.stApp .stTextInput>div>div>input,
.stApp .stSelectbox [data-baseweb="select"],
.stApp .stMultiSelect [data-baseweb="select"],
.stApp .stDateInput{
  background: var(--pill) !important;
  color: var(--ink) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  border-radius: 999px !important;
  box-shadow: 0 8px 26px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
}
.stApp input::placeholder,
.stApp [data-baseweb="select"] input::placeholder{ color: var(--muted)!important; opacity:1!important; }

/* Dropdown menu */
.stApp [data-baseweb="menu"]{
  background: rgba(14,18,42,.95)!important;
  color: var(--ink)!important;
  border: 1px solid var(--border)!important;
  border-radius: 16px!important;
  box-shadow: 0 14px 40px rgba(0,0,0,.55);
}

/* 5) Buttons — soft neon gradient + lift */
.stApp .stButton>button,
.stApp .stDownloadButton>button{
  border-radius: 999px !important;
  background-image: linear-gradient(90deg, #ffc86a, #ff8ad1, #6fb8ff);
  background-size: 220% 220%;
  color:#0b0f1f!important; font-weight:800!important; border:0!important;
  box-shadow:0 12px 30px rgba(0,0,0,.5);
  transition: transform .09s ease, background-position .6s ease;
}
.stApp .stButton>button:hover{ transform:translateY(-1px); background-position: 100% 0; }

/* 6) Title gradient like reference (Belu warm -> Tales cool) */
h1, .stApp h1{
  color: transparent!important;
  background-image: linear-gradient(90deg, #ffd36b, #ff9f6b, #ffc86a, #8bcbff, #6fb8ff);
  -webkit-background-clip: text!important; background-clip: text!important;
  text-shadow: 0 2px 14px rgba(0,0,0,.55);
  font-weight: 900!important; letter-spacing: .2px;
}

/* 7) Sidebar: darker, readable */
.stSidebar, .stApp [data-testid="stSidebar"]{
  background: linear-gradient(180deg, rgba(10,12,30,.96), rgba(7,9,22,.96))!important;
  color: var(--ink)!important; border-right: 1px solid rgba(255,255,255,.06);
}

/* 8) Focus rings (keyboard) */
.stApp .stButton>button:focus,
.stApp input:focus, .stApp textarea:focus,
.stApp [data-baseweb="select"]:focus-within{
  outline: 3px solid var(--focus)!important; outline-offset: 2px; border-radius: 10px;
}

/* 9) Smooth text & images */
.stApp *{ -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
.stApp img{ border-radius: 18px; box-shadow: 0 14px 34px rgba(0,0,0,.48); }

/* ===== END corrective theme ===== */
